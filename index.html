<html lang="nl">
<head>
<meta charset="utf-8"/>
<link href="https://rocket.maximizer.io/favicon.png" rel="icon"/>
<title>Rocket Rapporten</title>
<style>
    :root { 
      --bg-color: #f4f4f4; 
      --text-color: #222; 
      --card-color: #ffffff; 
      --button-color: #007bff; 
      --button-hover: #0056b3; 
    }
    body.dark { 
      --bg-color: #1e1e1e; 
      --text-color: #f1f1f1; 
      --card-color: #2b2b2b; 
      --button-color: #3399ff; 
      --button-hover: #1a75d1; 
    }
    body { 
      font-family: Arial, sans-serif; 
      padding: 40px; 
      background: var(--bg-color); 
      color: var(--text-color); 
      transition: background 0.3s, color 0.3s; 
    }
    .container { max-width: 1200px; margin: 0 auto; position: relative; }
    .header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
    h1 { font-size: 28px; margin: 0; }
    .toggle-container button { 
      background: none; 
      border: 1px solid var(--text-color); 
      padding: 6px 12px; 
      color: var(--text-color); 
      cursor: pointer; 
      border-radius: 5px; 
      font-size: 14px; 
    }
    .card { 
      background: var(--card-color); 
      border-radius: 8px; 
      padding: 20px; 
      margin-bottom: 20px; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.08); 
    }
    .card .label { font-size: 16px; font-weight: bold; margin-bottom: 12px; }
    .buttons { display: flex; flex-wrap: wrap; gap: 10px; }
    button.action-button { 
      padding: 8px 14px; 
      font-size: 14px; 
      cursor: pointer; 
      border: none; 
      background: var(--button-color); 
      color: white; 
      border-radius: 5px; 
      transition: all 0.2s ease; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
      height: 35px;
      display: flex;
      align-items: center;
      box-sizing: border-box;
    }
    button.action-button:hover { 
      transform: translateY(-1px); 
      box-shadow: 0 4px 8px rgba(0,0,0,0.15); 
      background: var(--button-hover); 
    }
    
    .refresh-btn { 
      background: none; 
      border: none; 
      cursor: pointer; 
      font-size: 22px; 
      color: var(--text-color); 
      padding: 0 5px; 
      display: inline-flex; 
      align-items: center; 
      justify-content: center;
      height: 35px; 
      line-height: 1;
      box-sizing: border-box;
      vertical-align: middle;
      transition: transform 0.2s;
    }
    .refresh-btn:active { transform: scale(0.9); }
    
    .spin-animation {
      animation: spin 0.6s ease-in-out;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .top-controls { display: flex; align-items: center; gap: 30px; }
    .calendar-section { 
      padding-right: 30px; 
      border-right: 1px solid #ccc; 
      display: flex; 
      flex-direction: column; 
      gap: 12px; 
      flex-shrink: 0; 
    }
    .search-stack { display: flex; flex-direction: column; gap: 10px; flex-grow: 1; }
    .inline-row { display: flex; align-items: center; gap: 12px; }
    .fixed-label { min-width: 130px; font-weight: 500; white-space: nowrap; }
    .search-input { flex-grow: 1; max-width: 350px; }
    .search-button { min-width: 140px; text-align: center; justify-content: center; }
    
    input[type="date"], input[type="text"] { 
      font-family: inherit; 
      font-size: 14px; 
      color: var(--text-color); 
      background: var(--card-color); 
      padding: 6px 10px; 
      border: 1px solid #ccc; 
      border-radius: 5px; 
      outline: none;
      height: 35px; 
      box-sizing: border-box;
    }

    @media (max-width: 1100px) { 
      .top-controls { flex-direction: column; align-items: stretch; } 
      .calendar-section { border-right: none; border-bottom: 1px solid #ccc; padding-bottom: 20px; } 
    }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 900px) { .two-col { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<div class="container">
  <div class="header-row">
    <h1>ðŸš€ Rocket Rapporten</h1>
    <div class="toggle-container">
      <button id="themeToggleBtn" onclick="toggleDarkMode()">ðŸŒ™ Donkere modus</button>
    </div>
  </div>

  <div class="card">
    <div class="top-controls">
      <div class="calendar-section">
        <div class="inline-row">
          <span class="fixed-label">Periode:</span>
          <input id="fromDate" type="date"/>
          <span>t/m</span>
          <input id="toDate" type="date"/>
          <button id="refreshBtn" class="refresh-btn" onclick="resetFilters()" title="Filters wissen">ðŸ”„</button>
        </div>
        <button class="action-button" onclick="handleOpenCustomAll()" style="justify-content: center;">Open (alle campagnes)</button>
      </div>
      <div class="search-stack">
        <div class="inline-row">
          <span class="fixed-label">Campaign Name:</span>
          <input id="campaignQuery" class="search-input" type="text" placeholder="Voer campaign name in" />
          <button class="action-button search-button" onclick="handleSearchCampaign()">Zoek op naam</button>
        </div>
        <div class="inline-row">
          <span class="fixed-label">Campaign ID:</span>
          <input id="campaignIdQuery" class="search-input" type="text" placeholder="Voer campaign id in" />
          <button class="action-button search-button" onclick="handleSearchById()">Zoek op ID</button>
        </div>
      </div>
    </div>
  </div>

  <div class="card hero">
    <div class="label" style="text-align:center;">ðŸ”Ž Alle campagnes</div>
    <div class="buttons" style="justify-content:center;">
      <button class="action-button" onclick="openReport('', 'today')">Vandaag</button>
      <button class="action-button" onclick="openReport('', 'yesterday')">Gisteren</button>
      <button class="action-button" onclick="openHourly('today')">Uren vandaag</button>
      <button class="action-button" onclick="openHourly('yesterday')">Uren gisteren</button>
      <button class="action-button" onclick="openD2D()">D2D</button>
      <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1pcaDGNZmGRt5cV8aUGC1eMUPLo8A_aXBlMvVHfvXuSg/edit?gid=1072646418#gid=1072646418', '_blank')">Parentsheet</button>
      <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/14J5aJfmYfS1kykiIfzA0hTG3UHz80r2MyHcicfTacws/edit?gid=118875398#gid=118875398', '_blank')">Informationsheet</button>
    </div>
  </div>

  <div class="two-col">
    <div class="col">
      <div class="card"><div class="label">Jim</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sjh', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sjh', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sjh')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sjh')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1kT_9Yy1SrSLJxcvR4ydH_FukL1firLml2udxDqxsk9M/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Julian</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sjb', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sjb', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sjb')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sjb')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/180RV6tbDCHuyVHSkzgAcBBODCt0T-kHqzloZ1lIfAh4/edit?gid=0#gid=0', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Ejla</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sep', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sep', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sep')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sep')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1cTfYY5fipXojhSludGEsQxCj1KFqd_LOs4N0Hol65ms/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Lukas</div><div class="buttons">
        <button class="action-button" onclick="openReport('- slj', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- slj', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- slj')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- slj')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1wvIGj7297Bu8wQcpVVOaG2utARy8eRefxy3bu74DMwM/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Sem</div><div class="buttons">
        <button class="action-button" onclick="openReport('- ssu', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- ssu', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- ssu')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- ssu')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1tTyKpfDfp2wTg6YKMhb4_glpierS7g5DKgp_hQaHVnY/edit?gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Bram</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sbl', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sbl', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sbl')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sbl')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1Uu5XuNv0umFlDQmBOMBqBZVMgbevNQrL92ScAbcPvnU/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Stijn</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sss', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sss', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sss')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sss')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=346043053#gid=346043053', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Olaf</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sod', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sod', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sod')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sod')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=1859757568#gid=1859757568', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Julian R</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sjr', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sjr', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sjr')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sjr')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=1258505811#gid=1258505811', '_blank')">Worksheet</button>
      </div></div>
    </div>
    <div class="col">
      <div class="card"><div class="label">Sebastian</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sse', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sse', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sse')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sse')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/15EI3EDCGKmq3Db42nmRfIGVjvSCMPdgJhY_3OQjHe6M/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Giovanni</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sgv', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sgv', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sgv')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sgv')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1bGmd7204kBpp2iykwrZips_vQWluXp0F8SobE0UQHcE/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Wouter</div><div class="buttons">
        <button class="action-button" onclick="openReport('- swb', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- swb', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- swb')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- swb')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/14fbPQgc2CSWO7lOZ8rIibimqCK4bJ-G5uZZcPkgE_c0/edit?gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Richard</div><div class="buttons">
        <button class="action-button" onclick="openReport('- srz', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- srz', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- srz')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- srz')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/14QJVhBZnC0xV5TG7z9hvSjWHYMAESSB9uOShaAo5vWQ/edit?gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Luc</div><div class="buttons">
        <button class="action-button" onclick="openReport('- slr', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- slr', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- slr')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- slr')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1bG3-ah_-bTAC80xX9B83OkjMEBvZsnc3qPlhteLBnrw/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Sander</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sst', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sst', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sst')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sst')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=1864549719#gid=1864549719', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Owen</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sow', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sow', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sow')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sow')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=1426903825#gid=1426903825', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Kevin</div><div class="buttons">
        <button class="action-button" onclick="openReport('- sks', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- sks', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- sks')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- sks')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=438204544#gid=438204544', '_blank')">Worksheet</button>
      </div></div>
      <div class="card"><div class="label">Lotte</div><div class="buttons">
        <button class="action-button" onclick="openReport('- slh', 'today')">Vandaag</button>
        <button class="action-button" onclick="openReport('- slh', 'yesterday')">Gisteren</button>
        <button class="action-button" onclick="openHourly('today', '- slh')">Uren vandaag</button>
        <button class="action-button" onclick="openHourly('yesterday', '- slh')">Uren gisteren</button>
        <button class="action-button" onclick="window.open('https://docs.google.com/spreadsheets/d/1CeLq3O5vC5Dqe5p-F9AR9i8d5ZJa9SfQHzIk9szFdnM/edit?gid=328104916#gid=328104916', '_blank')">Worksheet</button>
      </div></div>
    </div>
  </div>

  <script>
    function formatDate(date) { return date.toISOString().slice(0, 10); }

    function openD2D() {
      const nu = new Date();
      const firstDay = formatDate(new Date(nu.getFullYear(), nu.getMonth(), 1));
      const today = formatDate(nu);
      const url = `https://rocket.maximizer.io/stats?dateStart=${firstDay}&dateEnd=${today}&dimensions=date&metrics=cpa,rpc,spend,revenue,profit,roi&filter=spend:gt:1&sort=-date&style=flat`;
      window.open(url, '_blank');
    }

    function resetFilters() {
      const btn = document.getElementById('refreshBtn');
      btn.classList.add('spin-animation');
      
      document.getElementById('fromDate').value = '';
      document.getElementById('toDate').value = '';
      document.getElementById('campaignQuery').value = '';
      document.getElementById('campaignIdQuery').value = '';
      
      setTimeout(() => {
        btn.classList.remove('spin-animation');
      }, 600);
    }

    function openReport(campagne, range, isId = false) {
      const nu = new Date();
      let dStart, dEnd;
      if (range === 'today') { dStart = dEnd = formatDate(nu); } 
      else { dStart = dEnd = formatDate(new Date(nu.getTime() - 86400000)); }
      openReportWithDates(campagne, dStart, dEnd, isId);
    }

    function openHourly(range, campagne = '') {
      const nu = new Date();
      let ds = (range === 'today') ? formatDate(nu) : formatDate(new Date(nu.getTime() - 86400000));
      let url = `https://rocket.maximizer.io/stats?dateStart=${ds}&dateEnd=${ds}&dimensions=hour&metrics=cpa,rpc,spend,revenue,profit,roi`;
      if (campagne) url += `&filter=campaignName:cn:${campagne}`;
      window.open(url + `&filter=spend:gt:1&sort=hour&style=flat`, '_blank');
    }

    // BIJGEWERKT: dimensions bevatten nu ook campaignStatus en sourceProvider
    function openReportWithDates(campagne, ds, de, isId = false) {
      if (!ds || !de) { alert('Kies datums.'); return; }
      
      let dims = "campaignName,campaignID,campaignStatus,sourceProvider";
      if (ds !== de) dims = "date," + dims;
      
      let url = `https://rocket.maximizer.io/stats?dateStart=${ds}&dateEnd=${de}&dimensions=${dims}&metrics=cpa,rpc,spend,revenue,profit,roi`;
      if (campagne) url += isId ? `&filter=campaignID:eq:${campagne}` : `&filter=campaignName:cn:${campagne}`;
      
      let sortField = (ds !== de) ? "-date" : "-profit";
      window.open(url + `&filter=spend:gt:1&sort=${sortField}&style=flat`, '_blank');
    }

    function handleOpenCustomAll() { openReportWithDates('', document.getElementById('fromDate').value, document.getElementById('toDate').value); }
    
    function handleSearchCampaign() {
      let q = document.getElementById('campaignQuery').value.trim();
      let f = document.getElementById('fromDate').value, t = document.getElementById('toDate').value;
      if (q) { if (f && t) openReportWithDates(q, f, t); else openReport(q, 'yesterday'); }
    }
    
    function handleSearchById() {
      let q = document.getElementById('campaignIdQuery').value.trim();
      let f = document.getElementById('fromDate').value, t = document.getElementById('toDate').value;
      if (q) { if (f && t) openReportWithDates(q, f, t, true); else openReport(q, 'yesterday', true); }
    }

    function toggleDarkMode() {
      const isDark = document.body.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      document.getElementById('themeToggleBtn').textContent = isDark ? 'â˜€ï¸ Lichte modus' : 'ðŸŒ™ Donkere modus';
    }
    
    if(localStorage.getItem('theme') === 'dark') { 
        document.body.classList.add('dark'); 
        document.getElementById('themeToggleBtn').textContent = 'â˜€ï¸ Lichte modus'; 
    }

    document.getElementById('campaignQuery').addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSearchCampaign(); });
    document.getElementById('campaignIdQuery').addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSearchById(); });
  </script>
</div>
</body>
</html>
